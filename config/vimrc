set nocompatible

filetype off
" set the runtime path to include Vundle and initialize
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
" let Vundle manage Vundle, required
Plugin 'gmarik/Vundle.vim'

" Vim behavior
Plugin 'tpope/vim-commentary'
Plugin 'tpope/vim-surround'
Plugin 'kien/ctrlp.vim'
Plugin 'vim-scripts/ZoomWin'
Plugin 'majutsushi/tagbar'
Plugin 'ervandew/supertab'

" Filetype specific
Plugin 'tpope/vim-haml'
Plugin 'tpope/vim-markdown'
Plugin 'kchmck/vim-coffee-script'
Plugin 'derekwyatt/vim-scala'
Plugin 'pangloss/vim-javascript'

" Colorschemes
Plugin 'nanotech/jellybeans.vim'

" All of your Plugins must be added before the following line
call vundle#end()            " required
filetype plugin indent on    " required

set encoding=utf-8

set showcmd
set helplang=en
set history=50
set incsearch

set smartindent
set linebreak
set backspace=indent,eol,start
set mouse=a
set ttymouse=xterm2

set printoptions=paper:a4
set ruler
set laststatus=2
set expandtab
set tabstop=2
set softtabstop=2
set shiftwidth=2
set cursorline

set termencoding=utf-8
set viminfo='20,\"50
set suffixes=.bak,~,.swp,.o,.info,.aux,.log,.dvi,.bbl,.blg,.brf,.cb,.ind,.idx,.ilg,.inx,.out,.toc
set directory=~/tmp

set modeline
set wildmenu

set fillchars=stl:\ ,stlnc:\ ,vert:│,fold:─,diff:─
set listchars=eol:⊸,tab:⊡⋅,extends:▻,precedes:◅,nbsp:◻
set foldmethod=marker
set background=dark
set colorcolumn=81

filetype indent on
filetype plugin on
syntax on

set t_Co=256
" Default colorscheme
colorscheme jellybeans

highlight NonText ctermfg=DarkMagenta
highlight SpecialKey ctermfg=DarkMagenta
highlight ColorColumn ctermbg=53 guibg=#662244

let mapleader = ','

" Tab navigation
map <S-Left> gT
map <S-Right> gt
imap <S-Left> <Esc>gT
imap <S-Right> <Esc>gt

" Rails file editing
cabbr a app/mailers/**
cabbr c app/controllers/**
cabbr d db/**
cabbr f config/**
cabbr g app/migrators/**
cabbr h app/helpers/**
cabbr j app/assets/javascripts/**
cabbr l lib/**
cabbr m app/models/**
cabbr s app/assets/stylesheets/**
cabbr t spec/**
cabbr ta spec/mailers/**
cabbr tc spec/controllers/**
cabbr tf spec/support/factories/**
cabbr tg spec/migrators/**
cabbr th spec/helpers/**
cabbr tl spec/lib/**
cabbr tm spec/models/**
cabbr ts spec/support/**
cabbr tv spec/views/**
cabbr v app/views/**

" Close all active buffers
function! Clear()
  1,100bd
endfunction

let extfile = expand("<sfile>:h") . "/.local_vimrc"
if filereadable(extfile)
  source <sfile>:h/.local_vimrc
endif

nmap <leader>c <plug>CommentaryLine
vmap <leader>c <plug>Commentary
nmap <leader>t :TagbarToggle<CR>
